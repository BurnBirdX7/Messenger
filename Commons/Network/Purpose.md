# Цели / Purposes
Каждое сообщение содержит: Заголовок и Тело.\
Заголовок состоит из частей: Длинна_Тела, Байт_Цели, Байт_Задачи.\
Байты цели описаны в этом файле.\
Байт задачи позволяет соотнести запрос с ответом.

## Общие
Purpose::Common\
Сообщения с Байтом цели из этой группы могут быть отправлены как клиенту, так и серверу. 

### Байты ответа
Сообщения помещеные байтами ACCEPTED и DECLINED считаются отвечающими сообщениями
и несут Байт задачи запроса на который они отвечают.

#### Accepted
ACCEPTED\
Обозначает успешное выполнение запрошеной операции.
Сообщение содержащее такой байт цели возвращает также запрошеное содержимое.

#### Declined
DECLINED\
Обозначает отказ в выполнении запрошеной операции или её неуспешное выполнение
(в таком случае содержит строку-сообщение об ошибке).

### Heartbeat
HEARTBEAT\
Такой байт высылается, если сторона хочет удостовериться в том, что соединение активно.

### Disconnect
DISCONNECT\
Сообщение помеченное таким байтом инициирует штатное прекращение соединения.

## К Серверу
Purpose::to_server\
Обращения к серевру

### Hello
HELLO\
*Содержит*: MESSAGE_API_MAJOR_VERSION и MESSAGE_API_MINOR_VERSION
- байты, которые указывают на то,
какой набор Байтов цели использует клиент.

### Login
LOGIN\
*Содержит*: login, password (null-terminated strings).\
При удачной попытке авторизации в ответ сервер должен выслать ACCEPTED сообщение вместе с session_id и session_hash.

### Logoff
LOGOFF\
*Не содежит ничего*.\
При получении такого сообщения сервер должен ликвидировать сессиюб ассоциированную с соединением из которого получено 
данное сообщение.

### Restore Session
RESTORE_SESSION\
*Содержит*: session_id, session_hash.\
Запрос на восстановление существующей сессии.
Сервер возвращает ACCEPTED, если авторизация успешна.

### Get UserID
GET_USER_ID\
*Содержит*: nickname.\
Запрос на получение UserID.
Сервер возвращает ACCEPTED и ID если такой ползователь был найден и DECLINED в ином случае.

### Get ChatID
GET_CHAT_ID\
*Содержит*: chat_name.\
Запрос на получение ChatID.
Сервер возвращает ACCEPTED и ID если такая группа была найдена.

### Does Chat Requires Password
CHAT_REQ_PASS\
*Содержит*: chat_id.\
Спрашивает у сервера, есть ли у указанного чата пароль.
Сервер возвращает ACCEPTED true/false для ответа на вопрос или DECLINE с сообщением об ошибке

### Join Chat
JOIN_CHAR\
*Содержит*: chat_id \[, chat_password\]\
Запрос добавления пользолавтеля в чат.
ACCEPTED если пользователь добавлен

### Send Message
SEND_CHAT_MSG\
*Содержит*: chat_id, chat_message_content.\
Отправка сообщения в чат.

### Request Messages From Chat
REQUEST_CHAT_MSG\
*Содержит*: chat_id, time_from \[, time_to\].\
Запрашивает сообщения начиная с даты time_from и до текущего времени или до времени time_to, если такое указано.
Сервер возвращает все сообщения которые были обновлены или созданы в данный промежуток времени.

### Mark chat seen
MARK_SEEN\
*Содержит*: chat_id, timestamp.\

## К Клиенту
**Purpose::to_client**\
Сообщения от вервера к клиенту

### Send Message To Client
MSG_NOTIFY\
*Содержит*: chat_id, chat_message_pack.\
Если в ответ будет получен DECLINE, то сессия будет приостановлена

### Deauthorize
DEAUTH\
*Не содержит ничего*.\
Сообщает клиенту о том, что его сессия была деавторизована
